{% include header.html %}

  <h1 class="post-title">{{ page.title }}</h1>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/js-yaml/4.1.0/js-yaml.min.js"></script>

  <div class="panel">
    <label for="jsonInput">JSON Input</label>
    <textarea id="jsonInput" placeholder="Paste your JSON here..."></textarea>
    <div id="error" class="error"></div>
  </div>

  <div class="panel">
    <div class="output-section">
      <div class="output-header">
        <label>Block Style YAML</label>
        <button data-copy="block">Copy</button>
      </div>
      <textarea id="blockOutput" readonly></textarea>
    </div>

    <div class="output-section">
      <div class="output-header">
        <label>Flow Style YAML (Compact)</label>
        <button data-copy="flow">Copy</button>
      </div>
      <textarea id="flowOutput" readonly></textarea>
    </div>

    <div class="output-section">
      <div class="output-header">
        <label>Quoted Strings YAML</label>
        <button data-copy="quote">Copy</button>
      </div>
      <textarea id="quoteOutput" readonly></textarea>
    </div>
  </div>

  <script type="module">
  document.getElementById('jsonInput').addEventListener('input', function() {
    const input = document.getElementById('jsonInput').value;
    const flowOutput = document.getElementById('flowOutput');
    const errorDiv = document.getElementById('error');

    try {
      const jsonObject = JSON.parse(input);
      const yamlFlow = jsyaml.dump(jsonObject, { flowLevel: 1 });
      const prettyJson = JSON.stringify(jsonObject, null, 2);
      flowOutput.value = yamlFlow + '\n\n' + prettyJson;
      errorDiv.textContent = '';
    } catch (e) {
      flowOutput.value = '';
      errorDiv.textContent = 'Invalid JSON input';
    }
  });


  </script>

{% include footer.html %}